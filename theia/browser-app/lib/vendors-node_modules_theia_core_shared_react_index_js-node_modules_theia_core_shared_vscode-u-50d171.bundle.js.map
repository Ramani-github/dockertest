{"version":3,"file":"vendors-node_modules_theia_core_shared_react_index_js-node_modules_theia_core_shared_vscode-u-50d171.bundle.js","mappings":"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","sources":["webpack:///../node_modules/@theia/core/shared/react/index.js?","webpack:///../node_modules/@theia/core/shared/vscode-uri/index.js?","webpack:///../node_modules/@theia/markers/src/browser/index.ts?","webpack:///../node_modules/@theia/monaco/src/browser/monaco-diagnostic-collection.ts?","webpack:///../node_modules/@theia/monaco/src/browser/monaco-languages.ts?","webpack:///../node_modules/@theia/monaco/src/browser/protocol-to-monaco-converter.ts?","webpack:///../node_modules/@theia/output/src/browser/output-commands.ts?","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/output-channel-registry-main.ts?","webpack:///../node_modules/@theia/plugin-metrics/src/browser/plugin-metrics-creator.ts?","webpack:///../node_modules/@theia/plugin-metrics/src/browser/plugin-metrics-frontend-module.ts?","webpack:///../node_modules/@theia/plugin-metrics/src/browser/plugin-metrics-languages-main.ts?","webpack:///../node_modules/@theia/plugin-metrics/src/browser/plugin-metrics-output-registry.ts?","webpack:///../node_modules/@theia/plugin-metrics/src/browser/plugin-metrics-resolver.ts?","webpack:///../node_modules/@theia/plugin-metrics/src/common/metrics-protocol.ts?","webpack:///../node_modules/@theia/plugin-metrics/src/common/plugin-metrics-types.ts?"],"sourcesContent":["module.exports = require('react');\n","module.exports = require('vscode-uri');\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './marker-manager';\nexport * from './problem/problem-manager';\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Diagnostic } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\nimport { ProtocolToMonacoConverter } from './protocol-to-monaco-converter';\nimport IModel = monaco.editor.IModel;\nimport IMarkerData = monaco.editor.IMarkerData;\n\nexport class MonacoDiagnosticCollection implements Disposable {\n\n    protected readonly diagnostics = new Map<string, MonacoModelDiagnostics | undefined>();\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(\n        protected readonly name: string,\n        protected readonly p2m: ProtocolToMonacoConverter) {\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    get(uri: string): Diagnostic[] {\n        const diagnostics = this.diagnostics.get(uri);\n        return !!diagnostics ? diagnostics.diagnostics : [];\n    }\n\n    set(uri: string, diagnostics: Diagnostic[]): void {\n        const existing = this.diagnostics.get(uri);\n        if (existing) {\n            existing.diagnostics = diagnostics;\n        } else {\n            const modelDiagnostics = new MonacoModelDiagnostics(uri, diagnostics, this.name, this.p2m);\n            this.diagnostics.set(uri, modelDiagnostics);\n            this.toDispose.push(Disposable.create(() => {\n                this.diagnostics.delete(uri);\n                modelDiagnostics.dispose();\n            }));\n        }\n    }\n\n}\n\nexport class MonacoModelDiagnostics implements Disposable {\n    readonly uri: monaco.Uri;\n    protected _markers: IMarkerData[] = [];\n    protected _diagnostics: Diagnostic[] = [];\n    constructor(\n        uri: string,\n        diagnostics: Diagnostic[],\n        readonly owner: string,\n        protected readonly p2m: ProtocolToMonacoConverter\n    ) {\n        this.uri = monaco.Uri.parse(uri);\n        this.diagnostics = diagnostics;\n        monaco.editor.onDidCreateModel(model => this.doUpdateModelMarkers(model));\n    }\n\n    set diagnostics(diagnostics: Diagnostic[]) {\n        this._diagnostics = diagnostics;\n        this._markers = this.p2m.asDiagnostics(diagnostics);\n        this.updateModelMarkers();\n    }\n\n    get diagnostics(): Diagnostic[] {\n        return this._diagnostics;\n    }\n\n    get markers(): ReadonlyArray<IMarkerData> {\n        return this._markers;\n    }\n\n    dispose(): void {\n        this._markers = [];\n        this.updateModelMarkers();\n    }\n\n    updateModelMarkers(): void {\n        const model = monaco.editor.getModel(this.uri);\n        this.doUpdateModelMarkers(model ? model : undefined);\n    }\n\n    protected doUpdateModelMarkers(model: IModel | undefined): void {\n        if (model && this.uri.toString() === model.uri.toString()) {\n            monaco.editor.setModelMarkers(model, this.owner, this._markers);\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Diagnostic, SymbolInformation, WorkspaceSymbolParams } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { ProblemManager } from '@theia/markers/lib/browser/problem/problem-manager';\nimport URI from '@theia/core/lib/common/uri';\nimport { MaybePromise, Mutable } from '@theia/core/lib/common/types';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { Language, LanguageService } from '@theia/core/lib/browser/language-service';\nimport { MonacoDiagnosticCollection } from './monaco-diagnostic-collection';\nimport { ProtocolToMonacoConverter } from './protocol-to-monaco-converter';\n\nexport interface WorkspaceSymbolProvider {\n    provideWorkspaceSymbols(params: WorkspaceSymbolParams, token: CancellationToken): MaybePromise<SymbolInformation[] | undefined>;\n    resolveWorkspaceSymbol?(symbol: SymbolInformation, token: CancellationToken): Thenable<SymbolInformation | undefined>\n}\n\n@injectable()\nexport class MonacoLanguages implements LanguageService {\n\n    readonly workspaceSymbolProviders: WorkspaceSymbolProvider[] = [];\n\n    protected readonly makers = new Map<string, MonacoDiagnosticCollection>();\n\n    @inject(ProblemManager) protected readonly problemManager: ProblemManager;\n    @inject(ProtocolToMonacoConverter) protected readonly p2m: ProtocolToMonacoConverter;\n\n    @postConstruct()\n    protected init(): void {\n        for (const uri of this.problemManager.getUris()) {\n            this.updateMarkers(new URI(uri));\n        }\n        this.problemManager.onDidChangeMarkers(uri => this.updateMarkers(uri));\n    }\n\n    protected updateMarkers(uri: URI): void {\n        const uriString = uri.toString();\n        const owners = new Map<string, Diagnostic[]>();\n        for (const marker of this.problemManager.findMarkers({ uri })) {\n            const diagnostics = owners.get(marker.owner) || [];\n            diagnostics.push(marker.data);\n            owners.set(marker.owner, diagnostics);\n        }\n        const toClean = new Set<string>(this.makers.keys());\n        for (const [owner, diagnostics] of owners) {\n            toClean.delete(owner);\n            const collection = this.makers.get(owner) || new MonacoDiagnosticCollection(owner, this.p2m);\n            collection.set(uriString, diagnostics);\n            this.makers.set(owner, collection);\n        }\n        for (const owner of toClean) {\n            const collection = this.makers.get(owner);\n            if (collection) {\n                collection.set(uriString, []);\n            }\n        }\n    }\n\n    registerWorkspaceSymbolProvider(provider: WorkspaceSymbolProvider): Disposable {\n        this.workspaceSymbolProviders.push(provider);\n        return Disposable.create(() => {\n            const index = this.workspaceSymbolProviders.indexOf(provider);\n            if (index !== -1) {\n                this.workspaceSymbolProviders.splice(index, 1);\n            }\n        });\n    }\n\n    get languages(): Language[] {\n        return [...this.mergeLanguages(monaco.languages.getLanguages()).values()];\n    }\n\n    getLanguage(languageId: string): Language | undefined {\n        return this.mergeLanguages(monaco.languages.getLanguages().filter(language => language.id === languageId)).get(languageId);\n    }\n\n    protected mergeLanguages(registered: monaco.languages.ILanguageExtensionPoint[]): Map<string, Mutable<Language>> {\n        const languages = new Map<string, Mutable<Language>>();\n        for (const { id, aliases, extensions, filenames } of registered) {\n            const merged = languages.get(id) || {\n                id,\n                name: '',\n                extensions: new Set(),\n                filenames: new Set()\n            };\n            if (!merged.name && aliases && aliases.length) {\n                merged.name = aliases[0];\n            }\n            if (extensions && extensions.length) {\n                for (const extension of extensions) {\n                    merged.extensions.add(extension);\n                }\n            }\n            if (filenames && filenames.length) {\n                for (const filename of filenames) {\n                    merged.filenames.add(filename);\n                }\n            }\n            languages.set(id, merged);\n        }\n        for (const [id, language] of languages) {\n            if (!language.name) {\n                language.name = id;\n            }\n        }\n        return languages;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Position, Range, Location, TextEdit, Diagnostic, DiagnosticRelatedInformation } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { RecursivePartial } from '@theia/core/lib/common/types';\n\n@injectable()\nexport class ProtocolToMonacoConverter {\n\n    asRange(range: undefined): undefined;\n    asRange(range: Range): monaco.Range;\n    asRange(range: Range | undefined): monaco.Range | undefined;\n    asRange(range: RecursivePartial<Range>): Partial<monaco.IRange>;\n    asRange(range: RecursivePartial<Range> | undefined): monaco.Range | Partial<monaco.IRange> | undefined;\n    asRange(range: RecursivePartial<Range> | undefined): monaco.Range | Partial<monaco.IRange> | undefined {\n        if (range === undefined) {\n            return undefined;\n        }\n        const start = this.asPosition(range.start);\n        const end = this.asPosition(range.end);\n        if (start instanceof monaco.Position && end instanceof monaco.Position) {\n            return new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column);\n        }\n        const startLineNumber = !start || start.lineNumber === undefined ? undefined : start.lineNumber;\n        const startColumn = !start || start.column === undefined ? undefined : start.column;\n        const endLineNumber = !end || end.lineNumber === undefined ? undefined : end.lineNumber;\n        const endColumn = !end || end.column === undefined ? undefined : end.column;\n        return { startLineNumber, startColumn, endLineNumber, endColumn };\n    }\n\n    asPosition(position: undefined): undefined;\n    asPosition(position: Position): monaco.Position;\n    asPosition(position: Position | undefined): monaco.Position | undefined;\n    asPosition(position: Partial<Position>): Partial<monaco.IPosition>;\n    asPosition(position: Partial<Position> | undefined): monaco.Position | Partial<monaco.IPosition> | undefined;\n    asPosition(position: Partial<Position> | undefined): monaco.Position | Partial<monaco.IPosition> | undefined {\n        if (position === undefined) {\n            return undefined;\n        }\n        const { line, character } = position;\n        const lineNumber = line === undefined ? undefined : line + 1;\n        const column = character === undefined ? undefined : character + 1;\n        if (lineNumber !== undefined && column !== undefined) {\n            return new monaco.Position(lineNumber, column);\n        }\n        return { lineNumber, column };\n    }\n\n    asLocation(item: Location): monaco.languages.Location;\n    asLocation(item: undefined): undefined;\n    asLocation(item: Location | undefined): monaco.languages.Location | undefined;\n    asLocation(item: Location | undefined): monaco.languages.Location | undefined {\n        if (!item) {\n            return undefined;\n        }\n        const uri = monaco.Uri.parse(item.uri);\n        const range = this.asRange(item.range)!;\n        return {\n            uri, range\n        };\n    }\n\n    asTextEdit(edit: TextEdit): monaco.languages.TextEdit;\n    asTextEdit(edit: undefined): undefined;\n    asTextEdit(edit: TextEdit | undefined): undefined;\n    asTextEdit(edit: TextEdit | undefined): monaco.languages.TextEdit | undefined {\n        if (!edit) {\n            return undefined;\n        }\n        const range = this.asRange(edit.range)!;\n        return {\n            range,\n            text: edit.newText\n        };\n    }\n\n    asTextEdits(items: TextEdit[]): monaco.languages.TextEdit[];\n    asTextEdits(items: undefined): undefined;\n    asTextEdits(items: TextEdit[] | undefined): monaco.languages.TextEdit[] | undefined;\n    asTextEdits(items: TextEdit[] | undefined): monaco.languages.TextEdit[] | undefined {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(item => this.asTextEdit(item));\n    }\n\n    asSeverity(severity?: number): monaco.MarkerSeverity {\n        if (severity === 1) {\n            return monaco.MarkerSeverity.Error;\n        }\n        if (severity === 2) {\n            return monaco.MarkerSeverity.Warning;\n        }\n        if (severity === 3) {\n            return monaco.MarkerSeverity.Info;\n        }\n        return monaco.MarkerSeverity.Hint;\n    }\n\n    asDiagnostics(diagnostics: undefined): undefined;\n    asDiagnostics(diagnostics: Diagnostic[]): monaco.editor.IMarkerData[];\n    asDiagnostics(diagnostics: Diagnostic[] | undefined): monaco.editor.IMarkerData[] | undefined;\n    asDiagnostics(diagnostics: Diagnostic[] | undefined): monaco.editor.IMarkerData[] | undefined {\n        if (!diagnostics) {\n            return undefined;\n        }\n        return diagnostics.map(diagnostic => this.asDiagnostic(diagnostic));\n    }\n\n    asDiagnostic(diagnostic: Diagnostic): monaco.editor.IMarkerData {\n        return {\n            code: typeof diagnostic.code === 'number' ? diagnostic.code.toString() : diagnostic.code,\n            severity: this.asSeverity(diagnostic.severity),\n            message: diagnostic.message,\n            source: diagnostic.source,\n            startLineNumber: diagnostic.range.start.line + 1,\n            startColumn: diagnostic.range.start.character + 1,\n            endLineNumber: diagnostic.range.end.line + 1,\n            endColumn: diagnostic.range.end.character + 1,\n            relatedInformation: this.asRelatedInformations(diagnostic.relatedInformation),\n            tags: diagnostic.tags\n        };\n    }\n\n    asRelatedInformations(relatedInformation?: DiagnosticRelatedInformation[]): monaco.editor.IRelatedInformation[] | undefined {\n        if (!relatedInformation) {\n            return undefined;\n        }\n        return relatedInformation.map(item => this.asRelatedInformation(item));\n    }\n\n    asRelatedInformation(relatedInformation: DiagnosticRelatedInformation): monaco.editor.IRelatedInformation {\n        return {\n            resource: monaco.Uri.parse(relatedInformation.location.uri),\n            startLineNumber: relatedInformation.location.range.start.line + 1,\n            startColumn: relatedInformation.location.range.start.character + 1,\n            endLineNumber: relatedInformation.location.range.end.line + 1,\n            endColumn: relatedInformation.location.range.end.character + 1,\n            message: relatedInformation.message\n        };\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { codicon } from '@theia/core/lib/browser';\nimport { Command, nls } from '@theia/core/lib/common';\n\nexport namespace OutputCommands {\n\n    const OUTPUT_CATEGORY = 'Output';\n    const OUTPUT_CATEGORY_KEY = nls.getDefaultKey(OUTPUT_CATEGORY);\n\n    /* #region VS Code `OutputChannel` API */\n    // Based on: https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/vscode.d.ts#L4692-L4745\n\n    export const APPEND: Command = {\n        id: 'output:append'\n    };\n\n    export const APPEND_LINE: Command = {\n        id: 'output:appendLine'\n    };\n\n    export const CLEAR: Command = {\n        id: 'output:clear'\n    };\n\n    export const SHOW: Command = {\n        id: 'output:show'\n    };\n\n    export const HIDE: Command = {\n        id: 'output:hide'\n    };\n\n    export const DISPOSE: Command = {\n        id: 'output:dispose'\n    };\n\n    /* #endregion VS Code `OutputChannel` API */\n\n    export const CLEAR__WIDGET = Command.toLocalizedCommand({\n        id: 'output:widget:clear',\n        category: OUTPUT_CATEGORY,\n        iconClass: codicon('clear-all')\n    }, '', OUTPUT_CATEGORY_KEY);\n\n    export const LOCK__WIDGET = Command.toLocalizedCommand({\n        id: 'output:widget:lock',\n        category: OUTPUT_CATEGORY,\n        iconClass: codicon('unlock')\n    }, '', OUTPUT_CATEGORY_KEY);\n\n    export const UNLOCK__WIDGET = Command.toLocalizedCommand({\n        id: 'output:widget:unlock',\n        category: OUTPUT_CATEGORY,\n        iconClass: codicon('lock')\n    }, '', OUTPUT_CATEGORY_KEY);\n\n    export const CLEAR__QUICK_PICK = Command.toLocalizedCommand({\n        id: 'output:pick-clear',\n        label: 'Clear Output Channel...',\n        category: OUTPUT_CATEGORY\n    }, 'theia/output/clearOutputChannel', OUTPUT_CATEGORY_KEY);\n\n    export const SHOW__QUICK_PICK = Command.toLocalizedCommand({\n        id: 'output:pick-show',\n        label: 'Show Output Channel...',\n        category: OUTPUT_CATEGORY\n    }, 'theia/output/showOutputChannel', OUTPUT_CATEGORY_KEY);\n\n    export const HIDE__QUICK_PICK = Command.toLocalizedCommand({\n        id: 'output:pick-hide',\n        label: 'Hide Output Channel...',\n        category: OUTPUT_CATEGORY\n    }, 'theia/output/hideOutputChannel', OUTPUT_CATEGORY_KEY);\n\n    export const DISPOSE__QUICK_PICK = Command.toLocalizedCommand({\n        id: 'output:pick-dispose',\n        label: 'Close Output Channel...',\n        category: OUTPUT_CATEGORY\n    }, 'theia/output/closeOutputChannel', OUTPUT_CATEGORY_KEY);\n\n    export const COPY_ALL: Command = {\n        id: 'output:copy-all',\n    };\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { CommandService } from '@theia/core/lib/common/command';\nimport { OutputCommands } from '@theia/output/lib/browser/output-commands';\nimport { OutputChannelRegistryMain, PluginInfo } from '../../common/plugin-api-rpc';\n\n@injectable()\nexport class OutputChannelRegistryMainImpl implements OutputChannelRegistryMain {\n\n    @inject(CommandService)\n    protected readonly commandService: CommandService;\n\n    $append(name: string, text: string, pluginInfo: PluginInfo): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.APPEND.id, { name, text });\n        return Promise.resolve();\n    }\n\n    $clear(name: string): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.CLEAR.id, { name });\n        return Promise.resolve();\n    }\n\n    $dispose(name: string): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.DISPOSE.id, { name });\n        return Promise.resolve();\n    }\n\n    async $reveal(name: string, preserveFocus: boolean): Promise<void> {\n        const options = { preserveFocus };\n        this.commandService.executeCommand(OutputCommands.SHOW.id, { name, options });\n    }\n\n    $close(name: string): PromiseLike<void> {\n        this.commandService.executeCommand(OutputCommands.HIDE.id, { name });\n        return Promise.resolve();\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { PluginMetrics, METRICS_TIMEOUT } from '../common/metrics-protocol';\nimport { AnalyticsFromRequests, DataFromRequest, createRequestData, createDefaultAnalytics, MetricsMap } from '../common/plugin-metrics-types';\n\n@injectable()\nexport class PluginMetricsCreator {\n\n    @inject(PluginMetrics)\n    private pluginMetrics: PluginMetrics;\n\n    private _extensionIDAnalytics: MetricsMap;\n\n    private NODE_BASED_REGEX = /Request(.*?)failed/;\n\n    constructor() {\n        this.setPluginMetrics();\n        this._extensionIDAnalytics = {};\n    }\n\n    /**\n     * Create an error metric for requestData.pluginID by attempting to extract the erroring\n     * language server method from the requestData.errorContentsOrMethod. If it cannot extract the\n     * error language server method from requestData.errorContentsOrMethod then it will not\n     * create a metric.\n     *\n     * @param pluginID The id of the plugin\n     * @param errorContents The contents that the language server error has produced\n     */\n    async createErrorMetric(requestData: DataFromRequest): Promise<void> {\n        if (!requestData.pluginID) {\n            return;\n        }\n\n        const method = this.extractMethodFromValue(requestData.errorContentsOrMethod);\n\n        // only log the metric if we can find the method that it occurred in\n        if (method) {\n            const createdMetric = createRequestData(requestData.pluginID, method, requestData.timeTaken);\n            this.createMetric(createdMetric, false);\n\n            this.decreaseExtensionRequests(requestData.pluginID, method);\n        }\n    }\n\n    /**\n     * Decreases the total requests and the successful responses for pluginID with method by 1.\n     *\n     * This is needed because an error and a successful language server request aren't currently\n     * associated together because of https://github.com/microsoft/vscode-languageserver-node/issues/517.\n     * That means that every language server request that resolves counts as a successful language server request.\n     * Therefore, we need to decrease the extension requests for pluginID when we know there is an error.\n     * Otherwise, for every language server request that errors we would count it as both a success and a failure.\n     *\n     * @param pluginID The id of the plugin that should have the decreased requests\n     */\n    private decreaseExtensionRequests(pluginID: string, method: string): void {\n        const thisExtension = this._extensionIDAnalytics[pluginID];\n        if (thisExtension) {\n            const currentAnalytics = thisExtension[method];\n            if (currentAnalytics) {\n                currentAnalytics.totalRequests -= 1;\n                currentAnalytics.successfulResponses -= 1;\n            }\n        }\n    }\n\n    /**\n     * Update the internal metrics structure for pluginID with method when a request is made\n     *\n     * @param requestData The data from the request that was made\n     * @param isRequestSuccessful If the language server request was successful or not\n     */\n    async createMetric(requestData: DataFromRequest, isRequestSuccessful: boolean): Promise<void> {\n        if (!requestData.pluginID) {\n            return;\n        }\n\n        // When we are in this function we know its a method so we can make it clearer\n        const method = requestData.errorContentsOrMethod;\n        const defaultAnalytic = createDefaultAnalytics(requestData.timeTaken, isRequestSuccessful);\n\n        this.createExtensionIDAnalyticIfNotFound(requestData, defaultAnalytic);\n        this.createExtensionIDMethodIfNotFound(requestData, defaultAnalytic);\n\n        const thisExtension = this._extensionIDAnalytics[requestData.pluginID];\n        if (thisExtension) {\n            const currentAnalytic = thisExtension[method];\n            if (currentAnalytic) {\n                currentAnalytic.totalRequests += 1;\n                if (isRequestSuccessful) {\n                    currentAnalytic.successfulResponses += 1;\n                }\n                if (isRequestSuccessful) {\n                    currentAnalytic.sumOfTimeForSuccess = currentAnalytic.sumOfTimeForSuccess + requestData.timeTaken;\n                } else {\n                    currentAnalytic.sumOfTimeForFailure = currentAnalytic.sumOfTimeForFailure + requestData.timeTaken;\n                }\n            }\n        }\n    }\n\n    /**\n     * Create an entry in _extensionIDAnalytics with createdAnalytic if there does not exist one\n     *\n     * @param requestData data that we will turn into metrics\n     * @param createdAnalytic the analytic being created\n     */\n    private createExtensionIDAnalyticIfNotFound(requestData: DataFromRequest, createdAnalytic: AnalyticsFromRequests): void {\n        const method = requestData.errorContentsOrMethod; // We know its a metric if this is being called\n\n        if (!this._extensionIDAnalytics[requestData.pluginID]) {\n            this._extensionIDAnalytics[requestData.pluginID] = {\n                [method]: createdAnalytic\n            };\n        }\n    }\n\n    /**\n     * Create an entry in _extensionIDAnalytics for requestData.pluginID with requestData.errorContentsOrMethod as the method\n     * if there does not exist one\n     *\n     * @param requestData data that we will turn into metrics\n     * @param createdAnalytic the analytic being created\n     */\n    private createExtensionIDMethodIfNotFound(requestData: DataFromRequest, createdAnalytic: AnalyticsFromRequests): void {\n        const method = requestData.errorContentsOrMethod; // We know its a metric if this is being called\n\n        if (this._extensionIDAnalytics[requestData.pluginID]) {\n            const methodToAnalyticMap = this._extensionIDAnalytics[requestData.pluginID];\n            if (!methodToAnalyticMap[method]) {\n                methodToAnalyticMap[method] = createdAnalytic;\n            }\n        }\n    }\n\n    /**\n     * setPluginMetrics is a constant running function that sets\n     * pluginMetrics every {$METRICS_TIMEOUT} seconds so that it doesn't\n     * update /metrics on every request\n     */\n    private setPluginMetrics(): void {\n        const self = this;\n        setInterval(() => {\n            if (Object.keys(self._extensionIDAnalytics).length !== 0) {\n                self.pluginMetrics.setMetrics(JSON.stringify(self._extensionIDAnalytics));\n            }\n        }, METRICS_TIMEOUT);\n    }\n\n    // Map of plugin extension id to method to analytic\n    get extensionIDAnalytics(): MetricsMap {\n        return this._extensionIDAnalytics;\n    }\n\n    /**\n     * Attempts to extract the method name from the current errorContents using the\n     * vscode-languageclient matching regex.\n     *\n     * If it cannot find a match in the errorContents it returns undefined\n     *\n     * @param errorContents The contents of the current error or undefined\n     */\n    private extractMethodFromValue(errorContents: string | undefined): string | undefined {\n        if (!errorContents) {\n            return undefined;\n        }\n        const matches = errorContents.match(this.NODE_BASED_REGEX);\n        if (matches) {\n            return matches[1].trim();\n        }\n        return undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ContainerModule } from '@theia/core/shared/inversify';\nimport { LanguagesMainPluginMetrics } from './plugin-metrics-languages-main';\nimport { PluginMetrics, metricsJsonRpcPath } from '../common/metrics-protocol';\nimport { WebSocketConnectionProvider } from '@theia/core/lib/browser/messaging/ws-connection-provider';\nimport { PluginMetricsCreator } from './plugin-metrics-creator';\nimport { PluginMetricsResolver } from './plugin-metrics-resolver';\nimport { PluginMetricsOutputChannelRegistry } from './plugin-metrics-output-registry';\nimport { LanguagesMainImpl } from '@theia/plugin-ext/lib/main/browser/languages-main';\nimport { OutputChannelRegistryMainImpl } from '@theia/plugin-ext/lib/main/browser/output-channel-registry-main';\n\nexport default new ContainerModule((bind, unbind, isBound, rebind) => {\n    bind(PluginMetricsResolver).toSelf().inSingletonScope();\n    bind(PluginMetricsCreator).toSelf().inSingletonScope();\n\n    rebind(LanguagesMainImpl).to(LanguagesMainPluginMetrics).inTransientScope();\n    rebind(OutputChannelRegistryMainImpl).to(PluginMetricsOutputChannelRegistry).inTransientScope();\n\n    bind(PluginMetrics).toDynamicValue(ctx => {\n        const connection = ctx.container.get(WebSocketConnectionProvider);\n        return connection.createProxy<PluginMetrics>(metricsJsonRpcPath);\n    }).inSingletonScope();\n});\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Range, SerializedDocumentFilter, WorkspaceSymbolParams } from '@theia/plugin-ext/lib/common/plugin-api-rpc-model';\nimport { PluginMetricsResolver } from './plugin-metrics-resolver';\nimport { LanguagesMainImpl } from '@theia/plugin-ext/lib/main/browser/languages-main';\nimport { SymbolInformation } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport * as vst from '@theia/core/shared/vscode-languageserver-protocol';\nimport { PluginInfo } from '@theia/plugin-ext/lib/common/plugin-api-rpc';\nimport * as theia from '@theia/plugin';\n\n@injectable()\nexport class LanguagesMainPluginMetrics extends LanguagesMainImpl {\n\n    @inject(PluginMetricsResolver)\n    private pluginMetricsResolver: PluginMetricsResolver;\n\n    // Map of handle to extension id\n    protected readonly handleToExtensionID = new Map<number, string>();\n\n    $unregister(handle: number): void {\n        this.handleToExtensionID.delete(handle);\n        super.$unregister(handle);\n    }\n\n    protected provideCompletionItems(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        context: monaco.languages.CompletionContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CompletionList> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.CompletionRequest.type.method,\n            super.provideCompletionItems(handle, model, position, context, token));\n    }\n\n    protected resolveCompletionItem(handle: number,\n        item: monaco.languages.CompletionItem, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CompletionItem> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.CompletionRequest.type.method,\n            super.resolveCompletionItem(handle, item, token));\n    }\n\n    protected provideReferences(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        context: monaco.languages.ReferenceContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Location[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.ReferencesRequest.type.method,\n            super.provideReferences(handle, model, position, context, token));\n    }\n\n    protected provideImplementation(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.ImplementationRequest.type.method,\n            super.provideImplementation(handle, model, position, token));\n    }\n\n    protected provideTypeDefinition(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.TypeDefinitionRequest.type.method,\n            super.provideTypeDefinition(handle, model, position, token));\n    }\n\n    protected provideHover(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Hover> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.HoverRequest.type.method,\n            super.provideHover(handle, model, position, token));\n    }\n\n    protected provideDocumentHighlights(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.DocumentHighlight[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentHighlightRequest.type.method,\n            super.provideDocumentHighlights(handle, model, position, token));\n    }\n\n    protected provideWorkspaceSymbols(handle: number, params: WorkspaceSymbolParams, token: monaco.CancellationToken): Thenable<SymbolInformation[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.WorkspaceSymbolRequest.type.method,\n            super.provideWorkspaceSymbols(handle, params, token));\n    }\n\n    protected resolveWorkspaceSymbol(handle: number, symbol: SymbolInformation, token: monaco.CancellationToken): Thenable<SymbolInformation> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.WorkspaceSymbolRequest.type.method,\n            super.resolveWorkspaceSymbol(handle, symbol, token));\n    }\n\n    protected async provideLinks(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.ILinksList>> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentLinkRequest.type.method,\n            super.provideLinks(handle, model, token));\n    }\n\n    protected async resolveLink(handle: number, link: monaco.languages.ILink,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.ILink>> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentLinkRequest.type.method,\n            super.resolveLink(handle, link, token));\n    }\n\n    protected async provideCodeLenses(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.CodeLensList>> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.CodeLensRequest.type.method,\n            super.provideCodeLenses(handle, model, token));\n    }\n\n    protected resolveCodeLens(handle: number, model: monaco.editor.ITextModel,\n        codeLens: monaco.languages.CodeLens, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CodeLens> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.CodeLensResolveRequest.type.method,\n            super.resolveCodeLens(handle, model, codeLens, token));\n    }\n\n    protected provideDocumentSymbols(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.DocumentSymbol[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentSymbolRequest.type.method,\n            super.provideDocumentSymbols(handle, model, token));\n    }\n\n    protected provideDefinition(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DefinitionRequest.type.method,\n            super.provideDefinition(handle, model, position, token));\n    }\n\n    protected async provideSignatureHelp(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken,\n        context: monaco.languages.SignatureHelpContext): Promise<monaco.languages.ProviderResult<monaco.languages.SignatureHelpResult>> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.SignatureHelpRequest.type.method,\n            super.provideSignatureHelp(handle, model, position, token, context));\n    }\n\n    protected provideDocumentFormattingEdits(handle: number, model: monaco.editor.ITextModel,\n        options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentFormattingRequest.type.method,\n            super.provideDocumentFormattingEdits(handle, model, options, token));\n    }\n\n    protected provideDocumentRangeFormattingEdits(handle: number, model: monaco.editor.ITextModel,\n        range: Range, options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentRangeFormattingRequest.type.method,\n            super.provideDocumentRangeFormattingEdits(handle, model, range, options, token));\n    }\n\n    protected provideOnTypeFormattingEdits(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        ch: string, options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentOnTypeFormattingRequest.type.method,\n            super.provideOnTypeFormattingEdits(handle, model, position, ch, options, token));\n    }\n\n    protected provideFoldingRanges(handle: number, model: monaco.editor.ITextModel,\n        context: monaco.languages.FoldingContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.FoldingRange[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.FoldingRangeRequest.type.method,\n            super.provideFoldingRanges(handle, model, context, token));\n    }\n\n    protected provideDocumentColors(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.IColorInformation[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.DocumentColorRequest.type.method,\n            super.provideDocumentColors(handle, model, token));\n    }\n\n    protected provideColorPresentations(handle: number, model: monaco.editor.ITextModel,\n        colorInfo: monaco.languages.IColorInformation, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.IColorPresentation[]> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.ColorPresentationRequest.type.method,\n            super.provideColorPresentations(handle, model, colorInfo, token));\n    }\n\n    protected async provideCodeActions(handle: number, model: monaco.editor.ITextModel,\n        rangeOrSelection: Range, context: monaco.languages.CodeActionContext,\n        token: monaco.CancellationToken): Promise<monaco.languages.CodeActionList | monaco.languages.CodeActionList> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.CodeActionRequest.type.method,\n            super.provideCodeActions(handle, model, rangeOrSelection, context, token));\n    }\n\n    protected provideRenameEdits(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, newName: string, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.WorkspaceEdit & monaco.languages.Rejection> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.RenameRequest.type.method,\n            super.provideRenameEdits(handle, model, position, newName, token));\n    }\n\n    protected resolveRenameLocation(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.RenameLocation> {\n        return this.pluginMetricsResolver.resolveRequest(this.handleToExtensionName(handle),\n            vst.RenameRequest.type.method,\n            super.resolveRenameLocation(handle, model, position, token));\n    }\n\n    $registerCompletionSupport(handle: number, pluginInfo: PluginInfo,\n        selector: SerializedDocumentFilter[], triggerCharacters: string[], supportsResolveDetails: boolean): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerCompletionSupport(handle, pluginInfo, selector, triggerCharacters, supportsResolveDetails);\n    }\n\n    $registerDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerDefinitionProvider(handle, pluginInfo, selector);\n    }\n\n    $registerDeclarationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerDeclarationProvider(handle, pluginInfo, selector);\n    }\n\n    $registerReferenceProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerReferenceProvider(handle, pluginInfo, selector);\n    }\n\n    $registerSignatureHelpProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], metadata: theia.SignatureHelpProviderMetadata): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerSignatureHelpProvider(handle, pluginInfo, selector, metadata);\n    }\n\n    $registerImplementationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerImplementationProvider(handle, pluginInfo, selector);\n    }\n\n    $registerTypeDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerTypeDefinitionProvider(handle, pluginInfo, selector);\n    }\n\n    $registerHoverProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerHoverProvider(handle, pluginInfo, selector);\n    }\n\n    $registerDocumentHighlightProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerDocumentHighlightProvider(handle, pluginInfo, selector);\n    }\n\n    $registerWorkspaceSymbolProvider(handle: number, pluginInfo: PluginInfo): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerWorkspaceSymbolProvider(handle, pluginInfo);\n    }\n\n    $registerDocumentLinkProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerDocumentLinkProvider(handle, pluginInfo, selector);\n    }\n\n    $registerCodeLensSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], eventHandle: number): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerCodeLensSupport(handle, pluginInfo, selector, eventHandle);\n    }\n\n    $registerOutlineSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerOutlineSupport(handle, pluginInfo, selector);\n    }\n\n    $registerDocumentFormattingSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerDocumentFormattingSupport(handle, pluginInfo, selector);\n    }\n\n    $registerRangeFormattingSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerRangeFormattingSupport(handle, pluginInfo, selector);\n    }\n\n    $registerOnTypeFormattingProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], autoFormatTriggerCharacters: string[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerOnTypeFormattingProvider(handle, pluginInfo, selector, autoFormatTriggerCharacters);\n    }\n\n    $registerFoldingRangeProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerFoldingRangeProvider(handle, pluginInfo, selector);\n    }\n\n    $registerDocumentColorProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerDocumentColorProvider(handle, pluginInfo, selector);\n    }\n\n    $registerQuickFixProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], codeActionKinds?: string[]): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerQuickFixProvider(handle, pluginInfo, selector);\n    }\n\n    $registerRenameProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], supportsResolveLocation: boolean): void {\n        this.registerPluginWithFeatureHandle(handle, pluginInfo.id);\n        super.$registerRenameProvider(handle, pluginInfo, selector, supportsResolveLocation);\n    }\n\n    private registerPluginWithFeatureHandle(handle: number, pluginID: string): void {\n        this.handleToExtensionID.set(handle, pluginID);\n    }\n\n    private handleToExtensionName(handle: number): string {\n        return this.handleToExtensionID.get(handle) as string;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { OutputChannelRegistryMainImpl } from '@theia/plugin-ext/lib/main/browser/output-channel-registry-main';\nimport { PluginMetricsCreator } from './plugin-metrics-creator';\nimport { createDefaultRequestData } from '../common/plugin-metrics-types';\nimport { PluginInfo } from '@theia/plugin-ext/lib/common/plugin-api-rpc';\n\n@injectable()\nexport class PluginMetricsOutputChannelRegistry extends OutputChannelRegistryMainImpl {\n\n    @inject(PluginMetricsCreator)\n    protected readonly pluginMetricsCreator: PluginMetricsCreator;\n\n    $append(channelName: string, errorOrValue: string, pluginInfo: PluginInfo): PromiseLike<void> {\n        if (errorOrValue.startsWith('[Error')) {\n            const createdMetric = createDefaultRequestData(pluginInfo.id, errorOrValue);\n            this.pluginMetricsCreator.createErrorMetric(createdMetric);\n        }\n        return super.$append(channelName, errorOrValue, pluginInfo);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { PluginMetricsCreator } from './plugin-metrics-creator';\nimport { createRequestData } from '../common/plugin-metrics-types';\n\n/**\n * This class helps resolve language server requests into successes or failures\n * and sends the data to the metricsExtractor\n */\n@injectable()\nexport class PluginMetricsResolver {\n\n    @inject(PluginMetricsCreator)\n    private metricsCreator: PluginMetricsCreator;\n\n    /**\n     * Resolve a request for pluginID and create a metric based on whether or not\n     * the language server errored.\n     *\n     * @param pluginID the ID of the plugin that made the request\n     * @param method  the method that was request\n     * @param request the result of the language server request\n     */\n    async resolveRequest(pluginID: string, method: string, request: PromiseLike<any> | Promise<any> | Thenable<any> | any): Promise<any> {\n        const currentTime = performance.now();\n        try {\n            const value = await request;\n            this.createAndSetMetric(pluginID, method, performance.now() - currentTime, true);\n            return value;\n        } catch (error) {\n            this.createAndSetMetric(pluginID, method, performance.now() - currentTime, false);\n            return Promise.reject(error);\n        }\n    }\n\n    private createAndSetMetric(pluginID: string, method: string, time: number, successful: boolean): void {\n        const createdSuccessMetric = createRequestData(pluginID, method, time);\n        this.metricsCreator.createMetric(createdSuccessMetric, successful);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * The JSON-RPC interface for plugin metrics\n */\nexport const metricsJsonRpcPath = '/services/plugin-ext/metrics';\nexport const PluginMetrics = Symbol('PluginMetrics');\nexport interface PluginMetrics {\n    setMetrics(metrics: string): void;\n    getMetrics(): string;\n}\n\nexport const METRICS_TIMEOUT = 10000;\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// Define common interfaces that multiple classes can use\n\nexport interface MetricsMap {\n    [extensionID: string]: MethodToAnalytics\n}\n\nexport interface MethodToAnalytics {\n    [methodID: string]: AnalyticsFromRequests;\n}\n\nexport interface AnalyticsFromRequests {\n    totalRequests: number;\n    successfulResponses: number;\n    sumOfTimeForSuccess: number;\n    sumOfTimeForFailure: number;\n}\n\nexport interface DataFromRequest {\n    pluginID: string;\n    errorContentsOrMethod: string;\n    timeTaken: number;\n}\n\nexport interface MetricOutput {\n    header: string;\n    createMetricOutput(pluginID: string, method: string, requestAnalytics: AnalyticsFromRequests): string;\n}\n\n/**\n * Helper functions for creating an object that corresponds to the DataFromRequest interface\n */\nexport function createRequestData(pluginID: string, errorContentsOrMethod: string, timeTaken: number): DataFromRequest {\n    return {\n        pluginID,\n        errorContentsOrMethod,\n        timeTaken\n    };\n}\n\nexport function createDefaultRequestData(pluginID: string, errorContentsOrMethod: string): DataFromRequest {\n    return {\n        pluginID,\n        errorContentsOrMethod,\n        timeTaken: 0\n    };\n}\n\nexport function createDefaultAnalytics(timeTaken: number, isRequestSuccessful: boolean): AnalyticsFromRequests {\n    if (isRequestSuccessful) {\n        return {\n            sumOfTimeForSuccess: timeTaken,\n            sumOfTimeForFailure: 0,\n            successfulResponses: 0,\n            totalRequests: 0\n        };\n    } else {\n        return {\n            sumOfTimeForSuccess: 0,\n            sumOfTimeForFailure: timeTaken,\n            successfulResponses: 0,\n            totalRequests: 0\n        };\n    }\n}\n"],"names":[],"sourceRoot":""}